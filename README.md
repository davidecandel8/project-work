# Computational Intelligence Project

This repository contains an implementation of a Genetic Algorithm (GA) designed to solve a complex path optimization problem. The agent must collect gold from multiple cities and return to a central depot (0, 0) to unload, minimizing a non-linear cost function defined by distance and accumulated weight.

## Repository Structure and File Composition

The project is organized into a modular structure to separate problem logic, optimization algorithms, and performance analysis.

- **s347245.py**: This is the core of the project. It contains the primary solution logic, including the Genetic Algorithm, local search refinements, and the expansion of logical paths into physical ones. The `main` block includes a comprehensive test suite designed to be analogous to the test scenarios provided by the instructor in `/src/problem.ipynb`, allowing for immediate validation across different parameters (number of cities, $\alpha, \beta$ and graph density).

- **Problem.py**: This file defines the `Problem` class used to generate the graph instances and calculate the initial baseline. It has been integrated directly from the official [reference repository](https://github.com/GiuseppeEsposito98/project-work/tree/main) to ensure full compatibility with the evaluation environment.

- **base_requirements.txt**: This file lists all necessary Python libraries.
    - `numpy`: Used for high-performance matrix operations and vectorized calculations.
    - `networkx`: Used for graph representation and shortest path algorithms.
    - `matplotlib`: Required for visualization in the Jupyter notebook.
    - `icecream`: Utilized for debugging purposes.
    *Note: Standard libraries such as `os`, `sys`, `time`, `random`, and `pprint` are also utilized but do not require external installation.*

- **/reports**: A dedicated directory for storing detailed performance logs generated by the test suite in `s347245.py`. Each report provides a granular breakdown of the results, including:
    - **Execution Time**: The total time taken to find and verify the solution.
    - **Performance Comparison**: Absolute and percentage improvement in cost compared to the professor's baseline.
    - **Gold Statistics**: Detailed tracking of gold available at the start vs. gold successfully collected.
    - **City Coverage Detail**: Analysis of visits per city and the percentage of gold gathered.
    - **Trip Log**: A complete log of every trip performed, specifying the load carried and the sequence of cities visited.
    - **Final Solution Path**: The exact output format returned by the `solution` function.

- **/src**: This folder contains auxiliary files that were fundamental during the development and optimization phase:
    - **problem.ipynb**: The original reference notebook provided by the professor, used as the ground truth for baseline comparisons.
    - **test.py**: A specialized benchmarking script developed to compare shortest-path calculation times. It demonstrates that the Floyd-Warshall algorithm (implemented via NumPy) consistently outperforms iterative Dijkstra calls (pure Python) across various graph sizes and densities, justifying its use in the final solution.

- **.gitignore**: A standard configuration file to ensure that temporary files, Python cache (`__pycache__`), and local reports are not tracked by the version control system.

## Technical Implementation Details

### 1. Pre-computation and Vectorization
To maximize the efficiency of the Genetic Algorithm, the solution pre-computes two key matrices:
- A distance matrix for $O(1)$ lookup of the shortest path between any two nodes.
- A "geometric" matrix that pre-calculates the $(distance^\beta)$ factor. This avoids millions of expensive power operations during the fitness evaluation loop.

### 2. Optimization Strategy
The algorithm employs a two-tiered approach:
- **Genetic Algorithm (GA)**: Handles the global search for the optimal city visit sequence. It uses Order Crossover (OX1) and Inversion Mutation to maintain population diversity.
- **Split Strategy**: For high $\beta$ values ($\ge 1.5$), the algorithm creates "virtual nodes" for heavy cities. This allows the GA to optimize load management by splitting large pickups into separate trips.
- **Local Search (Swap)**: A post-processing refinement that untangles the internal geometry of each trip to further reduce the total distance.

## Execution time: 
Efficiency is a core requirement of this implementation. Every test case executed in the main suite and documented in the `/reports` directory was completed within the **15-minute reasonable time limit** required for the project. The use of C-optimized matrix calculations ensures that even large-scale instances (N=1000) are processed effectively.

## Usage

1. **Install Dependencies**:
   ```pip install -r base_requirements.txt```
2. **Run Solution and Tests**:
Executing the main script will run the automated test suite and populate the ```reports/``` folder:
    ```python s347245.py```